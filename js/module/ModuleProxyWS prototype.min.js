class ProxyWS{constructor(_wss){this._WSS=_wss,this._Subs={repl:[],sensor:[],process:[]},Object.on("repl-sub",id=>this._Subs.repl.push(id)),Object.on("repl-read",msg=>{this.Send(msg,this._Subs.repl)})}Receive(_data,callback){let msg=_data,obj=null;try{obj=JSON.parse(msg)}catch(error){return!1}let meta_crc=obj.MetaData.CRC,actual_crc;if(delete obj.MetaData.CRC,E.CRC32(JSON.stringify(obj))===meta_crc)return callback&&callback(obj.MetaData.ID),obj.MetaData.Command.forEach(comObj=>{Object.emit(comObj.com,comObj.arg[0]||obj.MetaData.ID,obj.MetaData.ID)}),!0}Send(_data,_subs){this._WSS.Receive(_data,_subs)}}